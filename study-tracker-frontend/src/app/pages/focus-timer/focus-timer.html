<div class="flex h-screen bg-neutral-50 overflow-hidden">
  
  <!-- Sidebar -->
  <app-sidebar></app-sidebar>

  <!-- Main Content Area -->
  <div class="flex-1 flex flex-col overflow-hidden">
    
    <!-- Top Navigation Bar -->
    <header class="bg-white border-b border-neutral-200 px-6 py-4">
      <div class="flex items-center justify-between">
        <div>
          <h1 class="text-2xl font-bold text-neutral-900">üçÖ Focus Timer</h1>
          <p class="text-sm text-neutral-600 mt-0.5">Pomodoro technique for better focus</p>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 overflow-y-auto bg-gradient-to-br from-neutral-50 to-primary-50/20 p-4">
      <div class="max-w-6xl mx-auto">
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
          
          <!-- Main Timer Area -->
          <div>
        
        <!-- Timer Card -->
        <div class="bg-white rounded-2xl shadow-2xl border border-neutral-200 overflow-hidden">
          <!-- Mode Indicator -->
          <div class="px-4 py-3 border-b border-neutral-200"
               [ngClass]="{
                 'bg-gradient-to-r from-primary-50 to-primary-100': currentMode === 'work',
                 'bg-gradient-to-r from-accent-50 to-accent-100': currentMode !== 'work'
               }">
            <div class="flex items-center justify-center gap-3">
              <mat-icon class="!w-6 !h-6 !text-2xl"
                        [ngClass]="{
                          'text-primary-600': currentMode === 'work',
                          'text-accent-600': currentMode !== 'work'
                        }">
                {{ getModeIcon() }}
              </mat-icon>
              <h2 class="text-xl font-bold text-neutral-900">{{ getModeText() }}</h2>
            </div>
          </div>

          <!-- Timer Display -->
          <div class="p-6">
            <div class="relative">
              <!-- Progress Circle -->
              <svg class="w-full max-w-xs mx-auto" viewBox="0 0 200 200" style="max-height: 280px;">
                <!-- Background Circle -->
                <circle
                  cx="100"
                  cy="100"
                  r="90"
                  fill="none"
                  stroke="#e5e5e5"
                  stroke-width="6"
                />
                <!-- Progress Circle -->
                <circle
                  cx="100"
                  cy="100"
                  r="90"
                  fill="none"
                  [attr.stroke]="currentMode === 'work' ? '#8b5cf6' : '#d946ef'"
                  stroke-width="6"
                  stroke-linecap="round"
                  [attr.stroke-dasharray]="565.48"
                  [attr.stroke-dashoffset]="565.48 - (565.48 * getProgress() / 100)"
                  transform="rotate(-90 100 100)"
                  class="transition-all duration-1000"
                />
              </svg>

              <!-- Time Display -->
              <div class="absolute inset-0 flex flex-col items-center justify-center">
                <div class="text-5xl font-bold text-neutral-900 font-mono tracking-tight">
                  {{ getFormattedTime() }}
                </div>
                <div class="mt-1.5 text-xs text-neutral-500 font-medium">
                  {{ currentMode === 'work' ? '25:00' : currentMode === 'longBreak' ? '15:00' : '05:00' }} total
                </div>
              </div>
            </div>
          </div>

          <!-- Controls -->
          <div class="px-4 pb-4">
            <div class="flex items-center justify-center gap-2">
              <!-- Start/Pause Button -->
              <button
                *ngIf="!isRunning"
                (click)="startTimer()"
                class="flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all">
                <mat-icon class="!w-5 !h-5 !text-xl">play_arrow</mat-icon>
                <span>{{ isPaused ? 'Resume' : 'Start' }}</span>
              </button>

              <button
                *ngIf="isRunning"
                (click)="pauseTimer()"
                class="flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all">
                <mat-icon class="!w-5 !h-5 !text-xl">pause</mat-icon>
                <span>Pause</span>
              </button>

              <!-- Reset Button -->
              <button
                (click)="resetTimer()"
                class="flex items-center justify-center gap-2 px-5 py-3 border-2 border-neutral-300 text-neutral-700 rounded-lg font-semibold hover:bg-neutral-50 transition-all">
                <mat-icon class="!w-5 !h-5 !text-xl">refresh</mat-icon>
                <span>Reset</span>
              </button>
            </div>

            <!-- Session Counter -->
            <div class="mt-4 text-center">
              <div class="inline-flex items-center gap-2 px-3 py-1.5 bg-neutral-100 rounded-lg">
                <mat-icon class="!w-4 !h-4 !text-base text-neutral-600">check_circle</mat-icon>
                <span class="text-xs font-semibold text-neutral-700">
                  {{ sessionsCompleted }} {{ sessionsCompleted === 1 ? 'session' : 'sessions' }} completed
                </span>
              </div>
            </div>
          </div>

          <!-- Mode Switcher -->
          <div class="px-4 pb-4 border-t border-neutral-200 pt-4">
            <p class="text-xs font-medium text-neutral-700 mb-2 text-center">Quick Switch</p>
            <div class="grid grid-cols-3 gap-2">
              <button
                (click)="switchMode('work')"
                [disabled]="isRunning"
                [class.bg-primary-100]="currentMode === 'work'"
                [class.text-primary-700]="currentMode === 'work'"
                [class.border-primary-300]="currentMode === 'work'"
                class="px-3 py-2 border-2 border-neutral-200 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <div class="flex flex-col items-center gap-0.5">
                  <mat-icon class="!w-4 !h-4 !text-base">work</mat-icon>
                  <span class="text-[10px]">Work</span>
                  <span class="text-[10px] font-bold">25:00</span>
                </div>
              </button>

              <button
                (click)="switchMode('break')"
                [disabled]="isRunning"
                [class.bg-accent-100]="currentMode === 'break'"
                [class.text-accent-700]="currentMode === 'break'"
                [class.border-accent-300]="currentMode === 'break'"
                class="px-3 py-2 border-2 border-neutral-200 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <div class="flex flex-col items-center gap-0.5">
                  <mat-icon class="!w-4 !h-4 !text-base">coffee</mat-icon>
                  <span class="text-[10px]">Break</span>
                  <span class="text-[10px] font-bold">05:00</span>
                </div>
              </button>

              <button
                (click)="switchMode('longBreak')"
                [disabled]="isRunning"
                [class.bg-accent-100]="currentMode === 'longBreak'"
                [class.text-accent-700]="currentMode === 'longBreak'"
                [class.border-accent-300]="currentMode === 'longBreak'"
                class="px-3 py-2 border-2 border-neutral-200 text-neutral-600 rounded-lg font-medium hover:bg-neutral-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                <div class="flex flex-col items-center gap-0.5">
                  <mat-icon class="!w-4 !h-4 !text-base">beach_access</mat-icon>
                  <span class="text-[10px]">Long</span>
                  <span class="text-[10px] font-bold">15:00</span>
                </div>
              </button>
            </div>
          </div>
        </div>
          </div>

          <!-- Right Sidebar - Info & Stats -->
          <div class="bg-white rounded-2xl shadow-2xl border border-neutral-200 overflow-hidden flex flex-col">
            
            <!-- Today's Stats -->
            <div class="p-5 space-y-3 border-b border-neutral-200">
              <h3 class="text-sm font-semibold text-neutral-700 mb-3">Today's Progress</h3>
              
              <div class="bg-gradient-to-r from-primary-50 to-primary-100 rounded-xl p-4 border border-primary-200">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-primary-600 flex items-center justify-center">
                    <mat-icon class="!w-5 !h-5 !text-xl text-white">work</mat-icon>
                  </div>
                  <div class="flex-1">
                    <p class="text-2xl font-bold text-neutral-900">{{ todayWorkSessions }}</p>
                    <p class="text-xs text-neutral-600">Work Sessions</p>
                  </div>
                </div>
              </div>

              <div class="bg-gradient-to-r from-accent-50 to-accent-100 rounded-xl p-4 border border-accent-200">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-accent-600 flex items-center justify-center">
                    <mat-icon class="!w-5 !h-5 !text-xl text-white">coffee</mat-icon>
                  </div>
                  <div class="flex-1">
                    <p class="text-2xl font-bold text-neutral-900">{{ todayBreakSessions }}</p>
                    <p class="text-xs text-neutral-600">Break Sessions</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- How It Works Card -->
            <div class="bg-gradient-to-br from-primary-50 to-accent-50 p-5 flex-1">
              <h3 class="text-base font-bold text-neutral-900 mb-3 flex items-center gap-2">
                <mat-icon class="!w-5 !h-5 !text-xl text-primary-600">info</mat-icon>
                How It Works
              </h3>
              <ul class="space-y-3 text-sm text-neutral-700">
                <li class="flex items-start gap-3">
                  <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary-600 text-white flex items-center justify-center text-xs font-bold">1</span>
                  <span>Work for 25 minutes with full focus</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary-600 text-white flex items-center justify-center text-xs font-bold">2</span>
                  <span>Take a 5-minute break to recharge</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary-600 text-white flex items-center justify-center text-xs font-bold">3</span>
                  <span>After 4 sessions, take a 15-minute long break</span>
                </li>
                <li class="flex items-start gap-3">
                  <span class="flex-shrink-0 w-6 h-6 rounded-full bg-primary-600 text-white flex items-center justify-center text-xs font-bold">4</span>
                  <span>All completed sessions are saved automatically</span>
                </li>
              </ul>

              <!-- Quick Tip -->
              <div class="mt-4 pt-4 border-t border-primary-200">
                <div class="flex items-start gap-2 bg-white/50 rounded-lg p-3 border border-primary-200">
                  <mat-icon class="!w-5 !h-5 !text-xl text-accent-600 flex-shrink-0">lightbulb</mat-icon>
                  <div>
                    <h4 class="text-xs font-bold text-neutral-900 mb-1">üí° Quick Tip</h4>
                    <p class="text-xs text-neutral-700 leading-relaxed">
                      Eliminate distractions during work sessions. Turn off notifications and close unnecessary tabs for maximum productivity!
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
