<div class="flex h-screen bg-neutral-50 overflow-hidden">
  
  <!-- Sidebar -->
  <app-sidebar></app-sidebar>

  <!-- Main Content Area -->
  <div class="flex-1 flex flex-col overflow-hidden">
    
    <!-- Main Content - Centered Layout -->
    <main class="flex-1 overflow-y-auto">
      <div class="page-container">
        
        <!-- Page Title Section -->
        <div class="title-section">
          <h1 class="page-title">AI Study Advisor</h1>
          <p class="page-description">Get personalized, friendly study advice powered by AI.</p>
        </div>

        <!-- Unified Card: Form + Feedback -->
        <div class="unified-card">
          <!-- Request Form -->
          <div class="form-section">
            <app-ai-request-form
              [markScale]="markScale"
              [submitting]="isLoading"
              (adviceRequest)="onAdviceRequest($event)">
            </app-ai-request-form>
          </div>

          <!-- AI Feedback (appears below form in same card) -->
          <div class="feedback-section" *ngIf="isLoading || aiAdvice">
            <div class="divider"></div>
            <app-ai-feedback-card
              [advice]="aiAdvice"
              [loading]="isLoading"
              (saveAdvice)="onSaveAdvice($event)">
            </app-ai-feedback-card>
          </div>
        </div>

      </div>
    </main>
  </div>
</div>
